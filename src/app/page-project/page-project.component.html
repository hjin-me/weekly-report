<mat-card class="weekly-container">
  <mat-card-header>
    <mat-card-title>项目管理</mat-card-title>
  </mat-card-header>
  <mat-card-content>
    <div *ngFor="let p of projects; let isLast = last ">
      <div fxLayout="row" fxLayoutGap="8px" fxLayoutAlign="start center" style="padding: 16px 0">
        <div fxFlex="2 0 10px"><span>{{p.id}}</span></div>
        <div fxFlex="2 0 10px" >
            <button mat-button class="hover-visible" (click)="openAddDialog(p)">
              <mat-icon>edit</mat-icon>
            </button>
        </div>
        <div fxFlex="8 0 10px"><span>{{p.name}}</span></div>
        <div fxFlex="10 0 10px">
          <mat-chip-list>
            <mat-chip *ngFor="let t of p.tasks">{{t}}</mat-chip>
          </mat-chip-list>
        </div>
        <div fxFlex="2 0 10px" *ngIf="admin$ | async">
          <button mat-button (click)="deleteProject(p)">
            <mat-icon>delete</mat-icon>
          </button>
        </div>
      </div>
      <mat-divider *ngIf="!isLast"></mat-divider>
    </div>
  </mat-card-content>
  <mat-card-actions>
    <button mat-button (click)="openAddDialog()">添加</button>
  </mat-card-actions>
</mat-card>

